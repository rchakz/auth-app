// import { Database, MySQLConnector } from "denodb/mod.ts";
// // import { MySQLClient } from "denodb/deps.ts";
// import config from "@config";
// import models from "@/models/index.ts";

// const connector = new MySQLConnector(config.db);

// export const db = new Database({
//   connector,
//   // debug: true // TODO: carregar do .env
// });

// // export async function transaction(block: () => Promise<void>): Promise<void> {
// //   const client = db["_connector"]["_client"] as MySQLClient;
// //   const transaction = client.transaction.createTransaction("transaction");

// //   db["_connector"]["_client"] = transaction;

// //   await transaction.begin();
// //   await block()
// //   await transaction.commit();

// //   db["_connector"]["_client"] = client;
// // }

// export default () => {
//   db.link(models);
//   db.sync({
//     // drop: config.environment === 'development', // habilitar quando houver mudan√ßa em models
//   });
// };
